"use strict";function peg$subclass(e,r){function n(){this.constructor=e}n.prototype=r.prototype,e.prototype=new n}function peg$SyntaxError(e,r,n,s){this.message=e,this.expected=r,this.found=n,this.location=s,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,peg$SyntaxError)}function peg$parse(e,r){r=void 0!==r?r:{};var n,s={},t={Expression:z},o=z,i=b("⊕",!1),a=b("↔",!1),p=b("→",!1),c=b("˅",!1),l=b("˄",!1),u=b("´",!1),x=b("(",!1),f=b(")",!1),h=F("char"),v=/^[a-z]/,g=w([["a","z"]],!1,!1),d=F("whitespace"),A=/^[ \t\n\r]/,y=w([" ","\t","\n","\r"],!1,!1),C=0,E=[{line:1,column:1}],m=0,S=[],$=0;if("startRule"in r){if(!(r.startRule in t))throw new Error("Can't start parsing from rule \""+r.startRule+'".');o=t[r.startRule]}function b(e,r){return{type:"literal",text:e,ignoreCase:r}}function w(e,r,n){return{type:"class",parts:e,inverted:r,ignoreCase:n}}function F(e){return{type:"other",description:e}}function R(r){var n,s=E[r];if(s)return s;for(n=r-1;!E[n];)n--;for(s={line:(s=E[n]).line,column:s.column};n<r;)10===e.charCodeAt(n)?(s.line++,s.column=1):s.column++,n++;return E[r]=s,s}function k(e){C<m||(C>m&&(m=C,S=[]),S.push(e))}function z(){var r,n,t,o,a,p,c,l;if(r=C,(n=M())!==s){for(t=[],o=C,(a=q())!==s?(8853===e.charCodeAt(C)?(p="⊕",C++):(p=s,0===$&&k(i)),p!==s&&(c=q())!==s&&(l=M())!==s?o=a=[a,p,c,l]:(C=o,o=s)):(C=o,o=s);o!==s;)t.push(o),o=C,(a=q())!==s?(8853===e.charCodeAt(C)?(p="⊕",C++):(p=s,0===$&&k(i)),p!==s&&(c=q())!==s&&(l=M())!==s?o=a=[a,p,c,l]:(C=o,o=s)):(C=o,o=s);t!==s?r=n=t.reduce((function(e,r){return r[3].expression&&"⊕"===r[1]?D=e.expression?{expression:e.expression+"⊕"+r[3].expression,eval:"xor("+e.eval+","+r[3].eval+")"}:{expression:e+"⊕"+r[3].expression,eval:"xor("+e+","+r[3].eval+")"}:"⊕"===r[1]&&(D=e.expression?{expression:e.expression+"⊕"+r[3],eval:"xor("+e.eval+","+r[3]+")"}:{expression:e+"⊕"+r[3],eval:"xor("+e+","+r[3]+")"}),B.push(D),{expressions:B,...D}}),n):(C=r,r=s)}else C=r,r=s;return r}function M(){var r,n,t,o,i,c,l,u;if(r=C,(n=T())!==s){for(t=[],o=C,(i=q())!==s?(8596===e.charCodeAt(C)?(c="↔",C++):(c=s,0===$&&k(a)),c===s&&(8594===e.charCodeAt(C)?(c="→",C++):(c=s,0===$&&k(p))),c!==s&&(l=q())!==s&&(u=T())!==s?o=i=[i,c,l,u]:(C=o,o=s)):(C=o,o=s);o!==s;)t.push(o),o=C,(i=q())!==s?(8596===e.charCodeAt(C)?(c="↔",C++):(c=s,0===$&&k(a)),c===s&&(8594===e.charCodeAt(C)?(c="→",C++):(c=s,0===$&&k(p))),c!==s&&(l=q())!==s&&(u=T())!==s?o=i=[i,c,l,u]:(C=o,o=s)):(C=o,o=s);t!==s?r=n=t.reduce((function(e,r){return r[3].expression&&"↔"===r[1]?D=e.expression?{expression:e.expression+"↔"+r[3].expression,eval:"bicondicional("+e.eval+","+r[3].eval+")"}:{expression:e+"↔"+r[3].expression,eval:"bicondicional("+e+","+r[3].eval+")"}:"↔"===r[1]?D=e.expression?{expression:e.expression+"↔"+r[3],eval:"bicondicional("+e.eval+","+r[3]+")"}:{expression:e+"↔"+r[3],eval:"bicondicional("+e+","+r[3]+")"}:r[3].expression&&"→"===r[1]?D=e.expression?{expression:e.expression+"→"+r[3].expression,eval:"condicional("+e.eval+","+r[3].eval+")"}:{expression:e+"→"+r[3].expression,eval:"condicional("+e+","+r[3].eval+")"}:"→"===r[1]&&(D=e.expression?{expression:e.expression+"→"+r[3],eval:"condicional("+e.eval+","+r[3]+")"}:{expression:e+"→"+r[3],eval:"condicional("+e+","+r[3]+")"}),B.push(D),{expressions:B,...D}}),n):(C=r,r=s)}else C=r,r=s;return r}function T(){var r,n,t,o,i,a,p,l;if(r=C,(n=j())!==s){for(t=[],o=C,(i=q())!==s?(709===e.charCodeAt(C)?(a="˅",C++):(a=s,0===$&&k(c)),a!==s&&(p=q())!==s&&(l=j())!==s?o=i=[i,a,p,l]:(C=o,o=s)):(C=o,o=s);o!==s;)t.push(o),o=C,(i=q())!==s?(709===e.charCodeAt(C)?(a="˅",C++):(a=s,0===$&&k(c)),a!==s&&(p=q())!==s&&(l=j())!==s?o=i=[i,a,p,l]:(C=o,o=s)):(C=o,o=s);t!==s?r=n=t.reduce((function(e,r){return r[3].expression&&"˅"===r[1]?D=e.expression?{expression:e.expression+"˅"+r[3].expression,eval:e.eval+"+"+r[3].eval}:{expression:e+"˅"+r[3].expression,eval:e+"+"+r[3].eval}:"˅"===r[1]&&(D=e.expression?{expression:e.expression+"˅"+r[3],eval:e.eval+"+"+r[3]}:{expression:e+"˅"+r[3],eval:e+"+"+r[3]}),B.push(D),{expressions:B,...D}}),n):(C=r,r=s)}else C=r,r=s;return r}function j(){var r,n,t,o,i,a,p,c;if(r=C,(n=U())!==s){for(t=[],o=C,(i=q())!==s?(708===e.charCodeAt(C)?(a="˄",C++):(a=s,0===$&&k(l)),a!==s&&(p=q())!==s&&(c=U())!==s?o=i=[i,a,p,c]:(C=o,o=s)):(C=o,o=s);o!==s;)t.push(o),o=C,(i=q())!==s?(708===e.charCodeAt(C)?(a="˄",C++):(a=s,0===$&&k(l)),a!==s&&(p=q())!==s&&(c=U())!==s?o=i=[i,a,p,c]:(C=o,o=s)):(C=o,o=s);t!==s?r=n=t.reduce((function(e,r){return r[3].expression&&"˄"===r[1]?D=e.expression?{expression:e.expression+"˄"+r[3].expression,eval:e.eval+"*"+r[3].eval}:{expression:e+"˄"+r[3].expression,eval:e+"*"+r[3].eval}:"˄"===r[1]&&(D=e.expression?{expression:e.expression+"˄"+r[3],eval:e.eval+"*"+r[3]}:{expression:e+"˄"+r[3],eval:e+"*"+r[3]}),B.push(D),{expressions:B,...D}}),n):(C=r,r=s)}else C=r,r=s;return r}function U(){var r,n,t,o,i,a,p;if(r=C,(n=function(){var r,n,t,o,i;return r=C,40===e.charCodeAt(C)?(n="(",C++):(n=s,0===$&&k(x)),n!==s&&q()!==s&&(t=z())!==s&&q()!==s?(41===e.charCodeAt(C)?(o=")",C++):(o=s,0===$&&k(f)),o!==s?r=n=(i=t).expression?{expression:"("+i.expression+")",eval:i.eval}:{expression:"("+i+")",eval:i}:(C=r,r=s)):(C=r,r=s),r===s&&(r=function(){var r,n,t;if($++,r=C,q()!==s){if(n=[],v.test(e.charAt(C))?(t=e.charAt(C),C++):(t=s,0===$&&k(g)),t!==s)for(;t!==s;)n.push(t),v.test(e.charAt(C))?(t=e.charAt(C),C++):(t=s,0===$&&k(g));else n=s;n!==s?r=e.substring(r,C):(C=r,r=s)}else C=r,r=s;return $--,r===s&&0===$&&k(h),r}()),r}())!==s){for(t=[],o=C,(i=q())!==s?(180===e.charCodeAt(C)?(a="´",C++):(a=s,0===$&&k(u)),a!==s&&(p=q())!==s?o=i=[i,a,p]:(C=o,o=s)):(C=o,o=s);o!==s;)t.push(o),o=C,(i=q())!==s?(180===e.charCodeAt(C)?(a="´",C++):(a=s,0===$&&k(u)),a!==s&&(p=q())!==s?o=i=[i,a,p]:(C=o,o=s)):(C=o,o=s);t!==s?r=n=t.reduce((function(e,r){return"´"===r[1]&&(D=e.expression?{expression:e.expression+"´",eval:"not("+e.eval+")"}:{expression:e+"´",eval:"not("+e+")"}),B.push(D),{expressions:B,...D}}),n):(C=r,r=s)}else C=r,r=s;return r}function q(){var r,n;for($++,r=[],A.test(e.charAt(C))?(n=e.charAt(C),C++):(n=s,0===$&&k(y));n!==s;)r.push(n),A.test(e.charAt(C))?(n=e.charAt(C),C++):(n=s,0===$&&k(y));return $--,r===s&&(n=s,0===$&&k(d)),r}var B=[];let D;if((n=o())!==s&&C===e.length)return n;throw n!==s&&C<e.length&&k({type:"end"}),G=S,H=m<e.length?e.charAt(m):null,K=m<e.length?m+1:m,L=R(J=m),N=R(K),I={start:{offset:J,line:L.line,column:L.column},end:{offset:K,line:N.line,column:N.column}},new peg$SyntaxError(peg$SyntaxError.buildMessage(G,H),G,H,I);var G,H,I,J,K,L,N}peg$subclass(peg$SyntaxError,Error),peg$SyntaxError.buildMessage=function(e,r){var n={literal:function(e){return'"'+t(e.text)+'"'},class:function(e){var r,n="";for(r=0;r<e.parts.length;r++)n+=e.parts[r]instanceof Array?o(e.parts[r][0])+"-"+o(e.parts[r][1]):o(e.parts[r]);return"["+(e.inverted?"^":"")+n+"]"},any:function(e){return"any character"},end:function(e){return"end of input"},other:function(e){return e.description}};function s(e){return e.charCodeAt(0).toString(16).toUpperCase()}function t(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+s(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+s(e)}))}function o(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+s(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+s(e)}))}return"Expected "+function(e){var r,s,t,o=new Array(e.length);for(r=0;r<e.length;r++)o[r]=n[(t=e[r]).type](t);if(o.sort(),o.length>0){for(r=1,s=1;r<o.length;r++)o[r-1]!==o[r]&&(o[s]=o[r],s++);o.length=s}switch(o.length){case 1:return o[0];case 2:return o[0]+" or "+o[1];default:return o.slice(0,-1).join(", ")+", or "+o[o.length-1]}}(e)+" but "+function(e){return e?'"'+t(e)+'"':"end of input"}(r)+" found."},module.exports={SyntaxError:peg$SyntaxError,parse:peg$parse};